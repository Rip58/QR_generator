# Implementation Plan: QR Styles & History Naming

**Goal:** Enhance the QR Generator with customizable styles (Presets) using `qr-code-styling` and allow users to name their saved QR codes.

## User Review Required
- **Library Change:** Replacing `qrcode.react` with `qr-code-styling` to support "Dots", "Rounded", and "Classy" styles.
- **Dependencies:** New dependency `qr-code-styling`.

## Proposed Changes

### 1. Dependencies
- **Install** `qr-code-styling`.
- **Uninstall** `qrcode.react` (cleanup).

### 2. Styles & Presets
- **Create** `src/lib/qr-presets.ts`: Define configuration objects for different styles.
    - `Classic`: Square dots, Square corners.
    - `Soft`: Rounded dots, Rounded corners.
    - `Modern`: Dots, Extra-rounded corners.
    - `Classy`: Classy types.

### 3. Components
- **Create** `src/components/qr/QRStyled.tsx`: A React wrapper for `qr-code-styling`.
    - Props: `content`, `fgColor`, `bgColor`, `preset` (key), `width`, `height`.
    - Uses `useEffect` and `useRef` to manage the QR instance.
- **Modify** `src/components/qr/QRPreview.tsx`:
    - Replace `QRCodeSVG` with `QRStyled`.
    - Add "Download" logic using `qr-code-styling`'s built-in `.download()` method (simplifies logic!).
- **Modify** `src/components/qr/QRForm.tsx`:
    - Add Input for `name` (optional).
    - Add "Style Preset" selector (Grid or Row of buttons).

### 4. Data & Logic
- **Modify** `src/hooks/useQRHistory.ts`:
    - Update `QRHistoryItem` interface: Add `name?: string` and `preset?: string`.
    - Update `saveToHistory` function to accept these new fields.
- **Modify** `src/components/qr/QRGenerator.tsx`:
    - Manage `name` and `preset` state.
    - Pass these to Form and History hooks.
- **Modify** `src/components/qr/HistoryList.tsx`:
    - Display `item.name` prominently.
    - Render thumbnail using `QRStyled`.

## Verification Plan
1. **Style Test:** Select different presets -> Verify Preview changes shape (Dots vs Squares).
2. **Download Test:** Click Download -> Verify PNG is saved and valid.
3. **History Test:**
    - Enter Content + Name + Preset.
    - Save.
    - Verify Item appears in list with correct Name and Style.
    - Reload page -> Verify persistence.
